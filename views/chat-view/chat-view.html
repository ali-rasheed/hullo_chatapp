<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymer-ts/polymer-ts.html">
<link rel="import" href="../../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<dom-module id="chat-view">
  <template>
    <style>
      :host {
        flex-basis: 80%;
        display: flex;
        flex-direction: column;
      }

      p.author {
        font-size: 0.9em;
        margin-bottom: 0; 
        position: relative;
        right: 1rem;
      }

      p.text {
        font-size: 0.8em;
        margin-top: 0.2rem;
        color: gray;
      }
      .msgsDisplay {
        additive-symbols: block;
        position: relative;
        position: absolute;
        right: auto;
        left: 2rem;
      }
      .Me {
        padding-right: 0;
        padding-left: auto;
        text-align: right;
        position: relative;
        right: 0;
        left: auto;
      }

      .msgsDisplay p {
        position: static;
        position: relative;
        right: auto;
        left: auto;
      }
      #inputStuff {
        position: initial;
        flex: 0;
        max-height: 5rem;
        height: 25rem;
        display: flex;
        flex-direction: row;
        /* padding-left: 1rem; */
        /* display: flex; */
        /* background: rgb(38, 180, 161); */
      }

      paper-fab {
        display: flex;
      flex-grow: 0;
      width: initial;
      }
      paper-input{
        flex-grow: 1;
      }


      .container {
        display: block;
        position: static;
        height: 4rem;
      }

      iron-icon {
        --iron-icon-fill-color: seagreen;
        --iron-icon-stroke-color: seagreen;
      }

      paper-dialog-scrollable {
        flex: 1;
        position: relative;
        width: inherit;
        height: 100%;
      }
    </style>
    <paper-dialog-scrollable>
      <template is="dom-repeat" items="{{currMessages}}" id="chatUpdate">
        <p>uiuhkj [[item]]</p>
        <div class="container">
          <div class$="msgsDisplay [[item.author]]">
            <p class="author">[[item.author]]</p>
            <p class="text">[[item.value]]</p>
          </div>
        </div>
      </template>
    </paper-dialog-scrollable>
    <div id="inputStuff">
      <paper-input id="msgInput" label="New Message..."></paper-input>
      <paper-fab icon="send" on-tap="sendMsg">
      </paper-fab>
    </div>
  </template>
</dom-module>